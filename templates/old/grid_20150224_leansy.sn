<!DOCTYPE html>
{{ 
    use lg;         // Function publish use context lg
    use page;       // Function publish use context page for the content of the page
    use user;       // From sn_preload
    use grid;       // In sn_publish grid is initialize 

    %include "/extenso/functions/sn_widgets.snc"; 
}}
\{{ // page is used by menus, widgets, etc.
    config=config(); 
    page={"uid":"{{page.rows.uid}}",
        "url":"{{page.rows{'folder_' .+ lg.rows.lg}; 
        page.rows{'page_' .+ lg.rows.lg};}}"}; // use by menus
}}
<html lang="{{lg.rows.lg}}">
    <head>
        {{ %include "/includes/header.sn"; }}
        <!-- Generated by {{ 
                user.username; " " ; datetime();  " "; 
                files = filenames(); 
                for file in files.filenames do 
                    file; " ;  "; 
                    endfor 
        }} -->
    </head>
    <body class="site">
        \{{ 
            if config.site eq "staging" then 
                client_has_bootstrap = true; 
                if user.lg ne "" then
                    include("/extenso/html/extranet/" .+ user.lg .+ "/fullpage.snc");
                else
                    include("/extenso/html/extranet/fr/fullpage.snc"); 
                endif
            endif
        }}
        <div class="cs sed">
            \{{ include("/" .+ config.site .+ "/includes/{{lg.rows.lg}}/header.snc"); }}
            
            <div class="cs-main-content">
              {{ // ----------------------------- Implement Grid
                  grid = unstringnify(grid.rows.grid);
                  %include "/includes/show_grid.sn"; 
              }}
            </div>
            
            \{{ include("/" .+ config.site .+ "/includes/{{lg.rows.lg}}/footer.snc"); }}
        </div><!--/.cs-->
        {{ %include "/includes/footer.sn"; }}
    </body>
</html>